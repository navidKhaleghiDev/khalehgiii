import { Card, Typography } from '@ui/atoms';
// import { IFileType } from '@src/services/config/types';

import { dateAndNumber } from '@src/helper/utils/dateUtils';
import { BaseSwitchOnClick } from '@ui/atoms/Inputs/BaseSwitchOnClick';
import { HeaderItem, ScannersConfig, OnClickActionsMalware } from '../type';

type FileTypeCardProps = {
  fileType: ScannersConfig | HeaderItem;
  isHeader?: boolean;
  onClickActions?: OnClickActionsMalware;
  isLoading?: boolean;
  disabled?: boolean;
};
export function SettingMalwareTableConfigs({
  fileType,
  isHeader,
  onClickActions,
  isLoading,
  disabled,
}: FileTypeCardProps) {
  const clamav = fileType?.clamav_is_active as boolean;
  const sandbox = fileType?.sandbox_is_active as boolean;
  const yara = fileType?.yara_is_active as boolean;

  return (
    <Card
      color="neutral"
      className={` ${
        !isHeader ? 'text-slate-500' : ''
      }  flex h-10 items-center px-2 my-2 w-full text-gray-600`}
    >
      <Typography
        variant="body3"
        type="div"
        className="px-3 w-3/12 text-center break-words uppercase"
      >
        {!isHeader ? dateAndNumber(fileType.created_at) : fileType.created_at}
      </Typography>
      <Typography
        variant="body3"
        type="div"
        className="px-3 w-3/12 text-center break-words uppercase"
      >
        {!isHeader ? dateAndNumber(fileType.updated_at) : fileType.updated_at}
      </Typography>
      <Typography
        variant="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? (
          sandbox
        ) : (
          <BaseSwitchOnClick
            disabled={isLoading || disabled}
            pureValue={sandbox}
            pureOnChange={() =>
              onClickActions !== undefined &&
              onClickActions('edit', {
                sandbox_is_active: !sandbox,
              })
            }
          />
        )}
      </Typography>
      <Typography
        variant="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? clamav : <BaseSwitchOnClick pureValue={clamav} disabled />}
      </Typography>
      <Typography
        variant="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? (
          yara
        ) : (
          <BaseSwitchOnClick
            disabled={isLoading}
            pureValue={yara}
            pureOnChange={() =>
              onClickActions !== undefined &&
              onClickActions('edit', {
                yara_is_active: !yara,
              })
            }
          />
        )}
      </Typography>
    </Card>
  );
}
