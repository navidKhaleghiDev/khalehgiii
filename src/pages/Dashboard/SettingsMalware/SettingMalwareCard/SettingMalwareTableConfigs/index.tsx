import { Card, Typography } from '@ui/atoms';
// import { IFileType } from '@src/services/config/types';

import { dateAndNumber } from '@src/helper/utils/dateUtils';
import { BaseSwitch } from '@ui/atoms/Inputs/BaseSwitch';
import { IFileType, IHeaderItem } from '../../type';

type FileTypeCardProps = {
  fileType: IFileType | IHeaderItem;
  isHeader?: boolean;
  onClickActions?: (action: string, keys: object) => void | undefined;
  isLoading?: boolean;
};
export function SettingMalwareTableConfigs({
  fileType,
  isHeader,
  onClickActions,
  isLoading,
}: FileTypeCardProps) {
  const clamav = fileType.clamav_is_active;
  const sandbox = fileType.sandbox_is_active;
  const yara = fileType.yara_is_active;

  return (
    <Card
      color="neutral"
      className={` ${
        !isHeader ? 'text-slate-500' : ''
      }  flex h-10 items-center px-2 my-2 w-full text-neutral-600`}
    >
      <Typography
        size="body3"
        type="div"
        className="px-3 w-3/12 text-center break-words uppercase"
      >
        {!isHeader ? dateAndNumber(fileType.created_at) : fileType.created_at}
      </Typography>
      <Typography
        size="body3"
        type="div"
        className="px-3 w-3/12 text-center break-words uppercase"
      >
        {!isHeader ? dateAndNumber(fileType.updated_at) : fileType.updated_at}
      </Typography>
      <Typography
        size="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? (
          sandbox
        ) : (
          <BaseSwitch
            disabled={isLoading as boolean}
            pureValue={sandbox as boolean}
            pureOnChange={() =>
              onClickActions !== undefined &&
              onClickActions('edit', {
                sandbox_is_active: !sandbox,
              })
            }
          />
        )}
      </Typography>
      <Typography
        size="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? (
          clamav
        ) : (
          <BaseSwitch pureValue={clamav as boolean} disabled />
        )}
      </Typography>
      <Typography
        size="body3"
        type="div"
        className="px-3 w-2/12 flex justify-center items-center uppercase"
      >
        {isHeader ? (
          yara
        ) : (
          <BaseSwitch
            disabled={isLoading as boolean}
            pureValue={yara as boolean}
            pureOnChange={() =>
              onClickActions !== undefined &&
              onClickActions('edit', {
                yara_is_active: !yara,
              })
            }
          />
        )}
      </Typography>
    </Card>
  );
}
